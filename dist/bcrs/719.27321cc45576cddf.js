"use strict";(self.webpackChunkbcrs=self.webpackChunkbcrs||[]).push([[719],{5719:(w,p,i)=>{i.r(p),i.d(p,{AdminModule:()=>A});var a=i(6814),c=i(95),m=i(9862),l=i(9310),e=i(4946),d=i(459);let g=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin"]],decls:1,vars:0,template:function(o,r){1&o&&e._UZ(0,"router-outlet")},dependencies:[l.lC],encapsulation:2}),s})(),f=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-employees"]],decls:2,vars:0,template:function(o,r){1&o&&(e.TgZ(0,"p"),e._uU(1,"create-employees works!"),e.qZA())}}),s})(),y=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete-employees"]],decls:2,vars:0,template:function(o,r){1&o&&(e.TgZ(0,"p"),e._uU(1,"delete-employees works!"),e.qZA())}}),s})(),h=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-employees"]],decls:2,vars:0,template:function(o,r){1&o&&(e.TgZ(0,"p"),e._uU(1,"edit-employees works!"),e.qZA())}}),s})(),C=(()=>{var t;class s{constructor(o){this.http=o}getUsers(){return this.http.get("/api/users")}deleteUser(o){return this.http.delete(`/api/users/${o}`)}}return(t=s).\u0275fac=function(o){return new(o||t)(e.LFG(m.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();function x(t,s){1&t&&(e.TgZ(0,"td"),e._uU(1,"No"),e.qZA())}function _(t,s){1&t&&(e.TgZ(0,"td"),e._uU(1,"Yes"),e.qZA())}function v(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,x,2,0,"td",7),e.YNc(12,_,2,0,"td",7),e.TgZ(13,"button",8),e.NdJ("click",function(){const U=e.CHM(n).$implicit,E=e.oxw();return e.KtG(E.deleteUser(U._id))}),e.O4$(),e.TgZ(14,"svg",9),e._UZ(15,"path",10)(16,"path",11),e.qZA()()()}if(2&t){const n=s.$implicit;e.xp6(2),e.Oqu(n.firstName),e.xp6(2),e.Oqu(n.lastName),e.xp6(2),e.Oqu(n.address),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Oqu(n.phoneNumber),e.xp6(1),e.Q6J("ngIf",n.isDisabled),e.xp6(1),e.Q6J("ngIf",!n.isDisabled)}}const Z=[{path:"",component:g,children:[{path:"create-employees",component:f,title:"BCRS: New Employees"},{path:"delete-employees",component:y,title:"BCRS Delete Employees"},{path:"edit-employees",component:h,title:"BCRS Edit Employees"},{path:"view-employees",component:(()=>{var t;class s{constructor(o){this.employeesService=o,this.employees=[],this.isDisabled=!0}ngOnInit(){this.employeesService.getUsers().subscribe(o=>{this.employees=o})}deleteUser(o){if(void 0!==o){if(!confirm("Are you sure you want to disable this employee?"))return;this.employeesService.deleteUser(o).subscribe({next:r=>{console.log("User disabled successfully.",r)},error:r=>{console.error("Error disabling user",r)}})}else console.log("The _id is undefined.")}}return(t=s).\u0275fac=function(o){return new(o||t)(e.Y36(C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-view-employees"]],decls:30,vars:1,consts:[[1,"container"],[1,"btn-div"],["routerLink","/admin/create-employees"],[1,"btn"],[1,"table-container"],[4,"ngFor","ngForOf"],["routerLink","/"],[4,"ngIf"],[1,"trash-icon",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"],["d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"]],template:function(o,r){1&o&&(e.TgZ(0,"body"),e._UZ(1,"br",0),e.TgZ(2,"h1"),e._uU(3,"Users Configuration"),e.qZA(),e.TgZ(4,"div",1)(5,"a",2)(6,"button",3),e._uU(7,"Add User"),e.qZA()()(),e._UZ(8,"br"),e.TgZ(9,"div")(10,"div",4)(11,"table")(12,"tr")(13,"th"),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Last Name"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Address"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Email"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Phone Number"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Active"),e.qZA()(),e.YNc(25,v,17,7,"tr",5),e.qZA()(),e.TgZ(26,"div",1)(27,"a",6)(28,"button",3),e._uU(29,"Return Home"),e.qZA()()()()()),2&o&&(e.xp6(25),e.Q6J("ngForOf",r.employees))},dependencies:[a.sg,a.O5,l.rH],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#d4dfcb;padding-bottom:50px}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;padding:10px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}h1[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:45px;font-weight:600}tr[_ngcontent-%COMP%]{margin-left:41px;margin-right:41px;font-size:15px;font-weight:700}th[_ngcontent-%COMP%]{font-size:28px}td[_ngcontent-%COMP%]{font-size:18px}.btn[_ngcontent-%COMP%]{font-size:29px;border:3px solid #e8ffe2;border-radius:20px;padding:3px 10px;box-shadow:4px 2px 5px #51554d;transition:all .1s ease-in-out}.btn[_ngcontent-%COMP%]:hover{transform:translateY(3px);box-shadow:5px 2px 1px #d4dfcb}.btn-div[_ngcontent-%COMP%]{text-align:center}.table-container[_ngcontent-%COMP%]{width:80%;margin:0 auto 20px;overflow:auto;border:10px solid #e8ffe2;padding:20px;border-style:double}.trash-icon[_ngcontent-%COMP%]{margin-top:12px;background-color:#d4dfcb;border:1px solid rgb(162,180,162)}"]}),s})(),title:"BCRS View Employee"}],canActivate:[(t,s)=>{const n=(0,e.f3M)(d.N);let o=JSON.parse(n.get("session_user"));return console.log("sessionUser",o),o?"admin"===o.role||(console.log("You must be an admin to access this page!"),(0,e.f3M)(l.F0).navigate(["/security/signin"],{queryParams:{returnUrl:s.url}}),!1):(console.log("You must be logged in to have access to this page!"),(0,e.f3M)(l.F0).navigate(["/security/signin"],{queryParams:{returnUrl:s.url}}),!1)}]}];let b=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),s})(),A=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,b,c.UX,c.u5,m.JF,l.Bz]}),s})()}}]);